<div class="panel" style="background-color:lightgrey;width:100%;">
    <div class="panel-body ms-2 me-2 mt-2 mb-2">
        
            <table class="table table-striped">
                <thead>
                    <tr>
                        <td><h4>Item Description</h4></td>
                        <td *ngIf="!allowTips"><h4>Quantity</h4></td>
                        <td *ngIf="allowTips"><h4>Serviced By</h4></td>
                        <td class="rightjustfy"><h4>Unit Price</h4></td>
                        <td class="rightjustfy"><h4>Discount</h4></td>
                        <td class="rightjustfy"><h4>Exch Coupon</h4></td>
                        <td class="rightjustfy"><h4>Sales Tax</h4></td>
                        <td class="rightjustfy"><h4>Total</h4></td>
                    </tr>
                </thead>
                <tr *ngFor="let itm of tktDtlItems; let i = index;">
                    <td><label class="label label-default">{{itm.salesItemDesc}}</label></td>
                    <td class="rightjustfy" *ngIf="!allowTips">
                        <span class="label label-default">&nbsp; {{itm.quantity}} &nbsp;</span>
                    </td>
                    <td *ngIf="allowTips">
                        <span class="label label-default">&nbsp; {{itm.srvdByAssociateText}} &nbsp;</span>
                    </td>
                    <td class="rightjustfy">
                        <label class="label label-default">{{itm.unitPrice  | number:'1.2-2' }}</label>
                    </td>
                    <td class="rightjustfy"> 
                        <a class="hyplink" id="vndrDisc_{{itm.salesItemUID}}_{{itm.ticketDetailId}}" (click)="DisplayVendorDiscPopUp(itm.salesItemUID, itm.ticketDetailId, itm.salesItemDesc)" >{{ itm.vndCpnAmountDC  | number:'1.2-2' }}</a>
                    </td>
                    <td class="rightjustfy">                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             
                        <a class="hyplink" id="exchDisc_{{itm.salesItemUID}}_{{itm.ticketDetailId}}" (click)="DisplayExchDiscPopUp(itm.salesItemUID, itm.ticketDetailId, itm.salesItemDesc)" >{{ itm.exchCpnAmountDC  | number:'1.2-2' }}</a>
                        <!-- <label class="label label-default">{{(itm.unitPrice * itm.quantity) * itm.exchangeCouponDiscountPct * 0.01  | number:'1.2-2'}}</label> -->
                    </td>
                    <td class="rightjustfy">
                        <label class="label label-default">{{ itm.lineItemTaxAmount  | number:'1.2-2'}}</label>
                    </td>
                    <td class="rightjustfy">
                        <label class="label label-default">{{itm.lineItemDollarDisplayAmount  | number:'1.2-2' }}</label>
                    </td>
                </tr>
            </table>
        

    </div>
</div>

<table class="table">
    <td style="width:10%">
        <button id="btnCancel" class="btn btn-primary" (click)="btnCancelClicked();">Cancel</button>
    </td>
    <td style="width:80%"></td>
    <td style="width:10%;text-align: right;">
        <button id="btnAddRemove" class="btn btn-primary" (click)="btnAddRemove();">Add/Remove</button>
    </td>
</table>
<table class="table">
    <tr>
        <td style="width:70%;"></td>
        <td style="width:15%;">
            <table class="table">
                <tr>
                    <td style="width:66%" class="rightjustfy">
                        <label>Tax Exempted</label>
                        <input type="checkbox" id="cbTaxExempt" [(ngModel)]="taxExempt" name="cbTaxExempt" (change)="TaxExemptChanged()"/>
                    </td>
                </tr>
            </table>
        </td>
        <td style="width:15%;">
            <table class="table">
                <tr>
                    <td style="width:66%" class="rightjustfy">
                        <label>Item Subtotal</label>
                    </td>
                    <td style="width:33%" class="rightjustfy">
                        {{subTotal | number:'1.2-2'}}
                    </td>
                </tr>
                <tr>
                    <td style="width:66%" class="rightjustfy">
                        <label>Exchange Coupon</label>
                    </td>
                    <td style="width:33%" class="rightjustfy">
                        
                        <a class="hyplink" id="exchTranCoupon" (click)="DisplayExchTranDiscPopUp()" >{{exchCpnTotal | number:'1.2-2'}}</a>
                    </td>
                </tr>
                <tr>
                    <td style="width:66%" class="rightjustfy">
                        <label>Sales Tax</label>
                    </td>
                    <td style="width:33%" class="rightjustfy">
                        {{saleTaxTotal | number:'1.2-2'}}
                    </td>
                </tr>
                <tr>
                    <td style="width:66%" class="rightjustfy">
                        <label>Tips</label>
                    </td>
                    <td style="width:33%" class="rightjustfy">
                        <a class="hyplink" id="tipsTotal" (click)="DisplayTipsPopUp()" >{{tipsTotal | number:'1.2-2'}}</a>

                    </td>
                </tr>
                <tr>
                    <td style="width:66%" class="rightjustfy">
                        <label>Grand Total</label>
                    </td>
                    <td style="width:33%" class="rightjustfy">
                        {{grandTotal | number:'1.2-2'}}
                    </td>
                </tr>
                <tr>
                    <td style="width:66%" class="rightjustfy">
                        <label>Total Savings</label>
                    </td>
                    <td style="width:33%" class="rightjustfy">
                        {{totalSavings | number:'1.2-2'}}
                    </td>
                </tr>
            </table>
            
        </td>
    </tr>
</table>
